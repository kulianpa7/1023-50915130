<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<html lang="en">
<!-- 最新版 jQuery CDN -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Two Player Arkanoid Game</title>
  <style>
    canvas {
      display: block;
      margin: 0 auto;
      background: #808080;
    }

    #gameMenu {
      text-align: center;
      margin-top: 50px;
    }

    #gameMenu button {
      padding: 10px 20px;
      margin: 5px;
      font-size: 16px;
    }
  </style>
</head>

<body>

  <div id="gameMenu">
    <h1>雙人 Arkanoid 遊戲</h1>
    <p>選擇難度：</p>
    <button onclick="startGame('easy', brick1)">簡單</button>
    <button onclick="startGame('medium', brick1)">中等</button>
    <button onclick="startGame('hard', brick1)">困難</button>

    <!-- 新增的三個背景切換按鈕 -->
    <p>切換背景：</p>
    <button onclick="changeBackground('background1.jpg')">黑色背景</button>
    <button onclick="changeBackground('background2.jpg')">木紋背景</button>
    <button onclick="changeBackground('background3.jpg')">海洋背景</button>

    <!-- 新增的清除 Cookie 按鈕 -->
    <p>其他操作：</p>
    <button onclick="clearbest()">清除最好成績</button>
  </div>

  <canvas id="arkanoid" width="1200" height="1000" style="display:none; background-image: url('background1.jpg'); background-size: cover;"></canvas>
  <script>
    let BGS = 'background1.jpg';
    let timeout1, timeout2;
    // 更換背景圖片的函數
    function changeBackground(image) {
      const canvas = document.getElementById('arkanoid');
      BGS = image;
      canvas.style.backgroundImage = `url('${image}')`;
    }
  </script>
  <div class="playerinfo" style="position: fixed; top: 50px; left: 0; font-size: 24px; line-height: 1.5;">
    <div class="player1">
      玩家1:
      <div class="health">
        <p>血量: <span class="player1-health">0</span></p>
      </div>
      <div class="score">
        <p>分數: <span class="player1-score">0</span></p>
      </div>
    </div>
    <div class="player2">
      玩家2:
      <div class="health">
        <p>血量: <span class="player2-health">0</span></p>
      </div>
      <div class="score">
        <p>分數: <span class="player2-score">0</span></p>
      </div>
    </div>
    <p>背景音樂:
      <input type="range" min="0" max="1" step="0.01" value="0.5" class="volume-control" id="volumeSlider">
    </p>
    
  </div>
  <div class="records" style="
                              background-color: white;
                              border-radius: 20px;
                              position: fixed;
                              top: 0;
                              right: 40px;
                              font-size: 24px;
                              line-height: 1.5;
                            ">
    <div class="player1">
      <div class="record">
        <p>玩家1最佳成績: <span class="player1-record">0</span></p>
      </div>
    </div>
    <div class="player2">
      <div class="record">
        <p>玩家2最佳成績: <span class="player2-record">0</span></p>
      </div>
    </div>
  </div>
  </div>
  <script>
    let powerUps = []; // 儲存道具的陣列
  </script>

  <script src="brickarray.js"></script>
  <script src="main.js"></script>
  <script src="key_control.js"></script>
  <script src="draw.js"></script>
  <script src="resetball.js"></script>
  <script src="Show_alert.js"></script>
  <script src="show_how_to_play.js"></script>
  <script src="stop_game.js"></script>
  <script>
    function clearbest() {
      // 獲取所有 cookie 並將其刪除
      document.cookie.split(";").forEach(cookie => {
        const name = cookie.split("=")[0].trim();
        document.cookie = name + '=; path=/; max-age=0';
      });
      $(".player1-record").text("0");
      $(".player2-record").text("0");
      alert("最好成績已清除！");
    }
  </script>
  <script>
    // CSS 樣式
    const styles = `
.game-popup {
  font-family: '微軟正黑體', sans-serif;
  border-radius: 15px;
}

.game-title {
  font-size: 1.8em;
  color: #2c3e50;
}
`;

    // 將樣式加入到頁面
    const styleSheet = document.createElement('style');
    styleSheet.textContent = styles;
    document.head.appendChild(styleSheet);
  </script>
</body>
<style>
  .volume-control {
    width: 200px;
    margin-top: 20px;
  }
</style>

<script>
  // 獲取音量控制條
  const volumeSlider = document.getElementById('volumeSlider');

  // 監聽音量控制條的變化
  volumeSlider.addEventListener('input', function() {
    backgroundMusic.volume = volumeSlider.value;
  });
</script>

</html>